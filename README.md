# 重心ケアアプリ (Jyushin Care App)

重症心身障害児者の生活介護と重心型放課後デイサービス向けの包括的なケア管理アプリケーションです。

## 🎯 プロジェクト概要

このアプリケーションは、重心多機能型事業所の職員が利用者様のケアを効率的かつ安全に管理するための世界最高峰のツールです。

### 主な特徴

- **包括的なケア管理**: 日誌記録、バイタルサイン、発作記録、食事・排泄・睡眠管理
- **リアルタイム通知**: 異常値検知と緊急時アラート
- **オフライン対応**: インターネット接続が不安定な環境でも使用可能
- **データ分析**: 利用者様の状態変化の可視化と傾向分析
- **家族連携**: ご家族との情報共有機能
- **セキュリティ**: 個人情報保護とアクセス権限管理

## 🚀 技術スタック

- **フロントエンド**: React 18 + TypeScript
- **ビルドツール**: Vite
- **スタイリング**: Tailwind CSS
- **状態管理**: React Context API
- **ルーティング**: React Router DOM
- **アイコン**: Lucide React
- **テスト**: Vitest

## 📋 必要条件

- Node.js 16.0.0以上
- npm 8.0.0以上

## 🛠️ セットアップ

1. **リポジトリのクローン**
   ```bash
   git clone [repository-url]
   cd jyushin-care-app
   ```


## 🤖 OpenAI API 連携

1. ルートに `.env` を作成し、以下のように OpenAI API キーを設定してください。
   ```env
   OPENAI_API_KEY=sk-xxxxxxx
   ```
2. モデル一覧を取得:
   ```bash
   npm run ai:models
   ```
   → 利用可能なモデルID一覧が表示されます
3. 簡単な応答テスト:
   ```bash
   npm run ai:test
   ```
   → "Say hello from jyuusin-care-app-v2" の応答が表示されます

※ `.env` は `.gitignore` で除外されています。APIキーは絶対に公開しないでください。

2. **依存関係のインストール**
   ```bash
   npm install
   ```

3. **開発サーバーの起動**
   ```bash
   npm run dev
   ```

4. **ブラウザでアクセス**
   ```
   http://localhost:3000
   ```

## 📁 プロジェクト構造

```
jyushin-care-app/
├── components/          # 再利用可能なコンポーネント
│   ├── forms/          # フォーム関連コンポーネント
│   └── shared/         # 共通コンポーネント
├── contexts/           # React Context
├── pages/              # ページコンポーネント
├── services/           # ビジネスロジック
├── types.ts            # TypeScript型定義
├── constants.ts        # 定数とサンプルデータ
└── App.tsx            # メインアプリケーション
```

## 🚀 現場安全性確保のためのCI/CD設定

### GitHub Actions (推奨)
- **自動テスト実行**: 現場で壊れて困る部分のテストを自動実行
- **型安全性チェック**: TypeScriptの型エラーを自動検出
- **コード品質チェック**: ESLintによるコード品質確保
- **失敗時アラート**: テスト失敗時に即座に通知

### Vercel/Netlify デプロイ設定
- **自動デプロイ**: テスト通過後の自動デプロイ
- **プレビューデプロイ**: PR時の自動プレビュー環境構築
- **本番環境保護**: テスト失敗時はデプロイをブロック

## 🛡️ 現場で絶対に壊れてほしくない部分

### 主要機能の自動テスト
- ✅ **利用者管理**: CRUD操作・フィルタ・検索
- ✅ **日誌入力**: 入力・保存・バリデーション・エラー処理
- ✅ **スタッフ管理**: 追加・編集・権限管理
- ✅ **レポート出力**: 統計・グラフ・エクスポート
- ✅ **AI予測**: 発作予測・健康予測

### テスト実行コマンド
```bash
# 全テスト実行
npm run test

# 現場で重要なテストのみ実行
npm run test:critical

# カバレッジ付きテスト
npm run test:coverage

# CI/CD用フルチェック
npm run ci:full

# コミット前チェック
npm run pre-commit
```

## 🔧 利用可能なスクリプト

- `npm run dev` - 開発サーバー起動
- `npm run build` - プロダクションビルド
- `npm run preview` - ビルド結果のプレビュー
- `npm run test` - テスト実行
- `npm run test:critical` - 現場で重要なテストのみ実行
- `npm run test:coverage` - カバレッジ付きテスト
- `npm run ci:full` - CI/CD用フルチェック
- `npm run pre-commit` - コミット前チェック
- `npm run lint` - コード品質チェック

## 👥 利用者情報

### デフォルトログイン情報

- **管理者**: 
  - ユーザー名: `admin`
  - パスワード: `admin123`

- **サービス管理責任者**:
  - ユーザー名: `service_manager`
  - パスワード: `password123`

- **看護師**:
  - ユーザー名: `nurse1`
  - パスワード: `password123`

## 📊 主要機能

### 1. ダッシュボード
- 利用者数・職員数の統計
- 最近の記録一覧
- 異常値アラート
- 発作回数のグラフ表示

### 2. 日誌管理
- バイタルサイン記録
- 食事・排泄・睡眠記録
- 発作記録
- 活動記録
- 医療ケア記録
- 特記事項

### 3. 利用者管理
- 利用者情報の登録・編集
- 医療ケア要件の管理
- 基礎疾患の記録

### 4. レポート機能
- 日次・週次・月次レポート
- データエクスポート
- グラフ・チャート表示

### 5. データ管理
- データのバックアップ・復元
- データのインポート・エクスポート
- ストレージ使用量の確認

## 🔒 セキュリティ機能

- ユーザー認証・認可
- 権限ベースのアクセス制御
- データの暗号化
- セッション管理

## 📱 レスポンシブデザイン

- デスクトップ・タブレット・スマートフォン対応
- タッチ操作に最適化
- アクセシビリティ対応

## 🌙 ダークモード対応

- ライトモード・ダークモード切り替え
- ユーザー設定の保存

## 🔄 オフライン機能

- オフライン時のデータ保存
- オンライン復帰時の自動同期
- オフライン状態の表示

## 🤝 開発者向け情報

### コード規約

- TypeScriptの厳密な型チェック
- ESLintによるコード品質管理
- Prettierによるコードフォーマット

### テスト

- コンポーネントテスト
- ユニットテスト
- 統合テスト

## 📞 サポート

ご質問やご要望がございましたら、開発チームまでお気軽にお問い合わせください。

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

---

**開発者**: とんさん  
**理念**: 人間の左脳機能はAIと共存し、右脳機能を高めることの重要性を認識  

# 重心ケアアプリ v2.0 - AIエージェント協働システム

## プロジェクト概要
重症心身障害児者が通う生活介護と重心型放課後等デイサービスの多機能型事業所向けの統合管理アプリケーション。6つのAIエージェントが協働して、職員の業務負担軽減とケア品質向上を実現する。

追加項目（重複するところは、重複させないように記憶）：
## 事業所情報
- **事業所名**: 〇△□（重心多機能型事業所）
- **管理者**: とんさん
- **経験年数**: 重症心身障害児者支援歴22年
- **所在地**: 地方の住宅地（道幅狭い、交通量多い、高齢化率高い）
- **営業日**: 火曜日～土曜日（9時～18時）
- **休業日**: 日曜日、月曜日

## サービス内容
### 生活介護事業
- **定員**: 10人（利用者14名）
- **サービス提供時間**: 10時～16時
- **人員配置区分**: Ⅰ型(1.5:1)
- **常勤看護職員**: 3人配置
- **送迎体制**: 全利用者24名に送迎サービス

### 重心型放課後等デイサービス
- **定員**: 5人（利用者10名）
- **サービス提供時間**: 平日14時～18時、休日10時～16時
- **人員配置区分**: Ⅰ型(1.5:1)
- **医療ケア対応**: 気管切開、胃ろう、痰吸引等

## 職員体制
- **管理者兼児童発達管理責任者**: 1名
- **サービス管理責任者兼生活支援員兼児童指導員**: 1名
- **常勤看護師**: 4名
- **非常勤看護師**: 3名
- **非常勤保育士**: 1名
- **生活支援員兼その他従事者**: 2名

## 利用者情報（24名）

### 生活介護利用者（14名）
1. **A・T** (36歳男性) - 脳性麻痺、てんかん、障がい程度区分6、医療ケア：なし
2. **I・K** (47歳女性) - 脳性麻痺、側湾症、障がい程度区分6、医療ケア：なし
3. **O・S** (40歳女性) - 脳性麻痺、障がい程度区分6、医療ケア：なし
4. **S・M** (43歳男性) - 脳性麻痺、てんかん、障がい程度区分6、医療ケア：吸引、腸瘻（腸瘻トラブル多発）
5. **N・M** (32歳男性) - 痙性四肢麻痺、てんかん、障がい程度区分6、医療ケア：胃ろう注入、吸引（発作ほぼ毎日）
6. **W・M** (32歳女性) - 脳原生上肢機能障害、障がい程度区分6、医療ケア：なし
7. **S・Y** (41歳女性) - 脳原生上肢機能障害、障がい程度区分6、医療ケア：鼻腔栄養注入
8. **Y・K** (22歳男性) - 二分脊椎症、水頭症、障がい程度区分6、医療ケア：導尿
9. **I・K** (40歳男性) - 脳性麻痺、障がい程度区分6、医療ケア：なし
10. **O・M** (23歳男性) - 脳性麻痺、視覚障害（全盲）、障がい程度区分6、医療ケア：なし
11. **U・S** (19歳男性) - クリッペファイル症候群、障がい程度区分6、医療ケア：気管切開、吸引
12. **I・T** (24歳男性) - 脳性麻痺、障がい程度区分6、医療ケア：胃ろう注入
13. **M・S** (18歳男性) - 水頭症、障がい程度区分6、医療ケア：なし
14. **M・O** (18歳女性) - 脳原生上肢機能障害、障がい程度区分6、医療ケア：胃ろう注入、吸引

### 重心型放課後等デイサービス利用者（10名）
1. **M・I** (17歳男児) - 慢性肺疾患、染色体異常、医療ケア：鼻腔注入
2. **S・K** (15歳男児) - 脳腫瘍後遺症、医療ケア：シャント内臓
3. **M・M** (15歳女児) - 知的障がい、医療ケア：なし
4. **K・S** (7歳女児) - 発達遅延、肢体不自由、医療ケア：なし
5. **Y・S** (6歳女児) - 症候性てんかん、医療ケア：ITB療法中
6. **F・M** (13歳女児) - 症候性てんかん、医療ケア：なし
7. **N・T** (9歳男児) - 発達遅滞、てんかん、医療ケア：胃ろう注入
8. **I・K** (9歳児) - 脳性麻痺、医療ケア：胃ろう注入
9. **K・Y** (9歳女児) - 脳性麻痺、医療ケア：なし
10. **S・K** (14歳女児) - 滑脳症、医療ケア：経管栄養

## AIエージェント協働システム

### 6つのAIエージェント
1. **中央統制AI（コーディネーター）**
   - 役割: 全体統括、意思決定支援、緊急時対応
   - 機能: 各専門AIからの情報統合、個別支援計画の総合判断

2. **医療分析AI（メディカルアシスタント）**
   - 役割: 医療データ分析、健康状態予測
   - 機能: バイタルサイン異常検知、発作パターン分析・予測

3. **記録支援AI（ケアレコーダー）**
   - 役割: 記録業務自動化、文書生成
   - 機能: 音声認識による記録入力、定型文自動生成

4. **コミュニケーションAI（エモーショナルパートナー）**
   - 役割: 利用者との交流、感情認識
   - 機能: 表情・声調から感情状態分析、個別コミュニケーション提案

5. **業務効率化AI（ワークフローオプティマイザー）**
   - 役割: 業務プロセス最適化、スケジュール管理
   - 機能: 職員配置最適化、送迎ルート最適化

6. **予測分析AI（フューチャーインサイト）**
   - 役割: 将来予測、リスク評価
   - 機能: 健康状態変化予測、必要サービス予測

## 開発理念「とんさんの哲学」
- **右脳機能強化**: 左脳業務（記録・分析）はAIが担当、職員は気づき・関わりに集中
- **人間とAIの協働**: AI時代における新しい支援モデル
- **個別性の尊重**: 24名それぞれに最適化されたケア
- **家族との絆**: 技術を通じた心のつながり強化

## 現在の課題
1. **記録業務の負担**: 連絡帳作成、ケース記録等の時間的負担
2. **情報共有の非効率性**: 紙ベース記録による検索・集計の困難
3. **職員の専門性向上**: 経験2年未満の職員が多い
4. **地域交流の不足**: 他の子どもとの活動機会が少ない
5. **家族支援の強化**: 保護者・きょうだい児の交流機会不足

## 技術仕様
- **フロントエンド**: HTML5, CSS3, JavaScript
- **デザイン**: レスポンシブデザイン、直感的UI
- **データベース**: 将来的にPostgreSQL予定
- **AI機能**: 音声認識、自然言語処理、予測分析
- **セキュリティ**: 個人情報保護法対応、データ暗号化

## 期待効果
- **業務効率化**: 記録時間70%削減、事務作業50%削減
- **ケア品質向上**: 個別最適化、事故防止、家族コミュニケーション強化
- **職員負担軽減**: ストレス軽減、専門性向上への時間創出

## 開発状況
- **現在**: 基本設計完了、プロトタイプ作成段階
- **次段階**: 各AIエージェント機能の実装
- **目標**: 全国の重心施設のモデルとなる革新的システム

## 連絡先
- **GitHub**: https://github.com/katoutomohiro/jyuusin-care-app-v2
- **管理者**: とんさん（22年間の重心支援経験）

---
*このプロジェクトは、重症心身障害児者とその家族、現場職員の幸せを実現するため、最先端技術と人間の愛情を融合した革新的なケアシステムを目指しています。*
