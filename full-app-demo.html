<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‡å¿ƒã‚±ã‚¢ã‚¢ãƒ—ãƒª - å®Ÿè£…ç¢ºèªç‰ˆ</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            background-color: #f8fafc;
            margin: 0;
            padding: 0;
        }
        .server-status {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #10b981;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .offline {
            background: #ef4444;
        }
        .nav-link {
            color: #374151;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.2s;
        }
        .nav-link:hover {
            background: #fef3c7;
            color: #92400e;
        }
    </style>
</head>
<body>
    <div class="server-status" id="serverStatus">
        ğŸŸ¢ å®Ÿè£…ç¢ºèªç‰ˆ - å‹•ä½œä¸­
    </div>
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ã‚µã‚¤ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
        const navItems = [
            { path: '/', label: 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰', subtitle: 'é­‚ã®ç‰©èª' },
            { path: '/users', label: 'åˆ©ç”¨è€…ç®¡ç†', subtitle: 'å¤§åˆ‡ãªä»²é–“ãŸã¡' },
            { path: '/daily-log', label: 'æ—¥èªŒå…¥åŠ›', subtitle: 'ãã‚‰ã‚ãã®è¨˜éŒ²' },
            { path: '/staff-schedule', label: 'è·å“¡ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«', subtitle: 'ä»Šæ—¥ã®ãƒãƒ¼ãƒ ä½“åˆ¶' },
            { path: '/transport-plan', label: 'é€è¿è¨ˆç”»', subtitle: 'é­‚ã®æ—…è·¯ã®æ¡ˆå†…' },
            { path: '/kaizen', label: 'æ”¹å–„ææ¡ˆ', subtitle: 'ãƒ’ãƒ¤ãƒªãƒãƒƒãƒˆãƒ»å­¦ã³ã®ç¨®' },
            { path: '/learning', label: 'ç ”ä¿®è³‡æ–™', subtitle: 'å­¦ã³ã®åºƒå ´' },
            { path: '/supplies', label: 'å‚™å“ç®¡ç†', subtitle: 'å‚™å“ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ' },
            { path: '/reports', label: 'å¤šè·ç¨®é€£æºãƒ¬ãƒãƒ¼ãƒˆ', subtitle: 'é­‚ã®ç¿»è¨³æ©Ÿ' },
            { path: '/settings', label: 'è¨­å®š', subtitle: 'ç†æƒ³éƒ·ã®èª¿å¾‹' },
        ];

        // é‡ç—‡å¿ƒèº«éšœå®³å…è€…ç‰¹åŒ–ã®15é …ç›®
        const eventTypes = [
            { 
                key: 'seizure', 
                title: 'ç™ºä½œè¨˜éŒ²', 
                icon: 'âš¡', 
                color: 'bg-red-100 border-red-300 text-red-800',
                description: 'ã¦ã‚“ã‹ã‚“ç™ºä½œã®è©³ç´°è¨˜éŒ²ãƒ»é »åº¦ãƒ»è–¬ç‰©èª¿æ•´'
            },
            { 
                key: 'expression', 
                title: 'è¡¨æƒ…ãƒ»æ°—åˆ†', 
                icon: 'ğŸ˜Š', 
                color: 'bg-yellow-100 border-yellow-300 text-yellow-800',
                description: 'éè¨€èªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»æ„Ÿæƒ…è¡¨ç¾ã®è¨˜éŒ²'
            },
            { 
                key: 'hydration', 
                title: 'æ°´åˆ†æ‘‚å–', 
                icon: 'ğŸ’§', 
                color: 'bg-cyan-100 border-cyan-300 text-cyan-800',
                description: 'æ°´åˆ†è£œçµ¦é‡ãƒ»è„±æ°´äºˆé˜²ãƒ»ã‚€ãã¿è¦³å¯Ÿ'
            },
            { 
                key: 'positioning', 
                title: 'ãƒã‚¸ã‚·ãƒ§ãƒ‹ãƒ³ã‚°', 
                icon: 'ğŸ›ï¸', 
                color: 'bg-indigo-100 border-indigo-300 text-indigo-800',
                description: 'ä½“ä½å¤‰æ›ãƒ»æ‹˜ç¸®äºˆé˜²ãƒ»è¤¥ç˜¡äºˆé˜²'
            },
            { 
                key: 'activity', 
                title: 'æ´»å‹•å‚åŠ ', 
                icon: 'ğŸ¯', 
                color: 'bg-green-100 border-green-300 text-green-800',
                description: 'å‰µä½œæ´»å‹•ãƒ»éŸ³æ¥½ç™‚æ³•ãƒ»æ„Ÿè¦šéŠã³'
            },
            { 
                key: 'excretion', 
                title: 'æ’æ³„ã®è¨˜éŒ²', 
                icon: 'ğŸš»', 
                color: 'bg-yellow-100 border-yellow-300 text-yellow-800',
                description: 'æ’å°¿ãƒ»æ’ä¾¿ãƒ»ãŠã‚€ã¤äº¤æ›ãƒ»ä¾¿ç§˜å¯¾ç­–'
            },
            { 
                key: 'skin_oral_care', 
                title: 'çš®è†šãƒ»å£è…”ã‚±ã‚¢', 
                icon: 'âœ¨', 
                color: 'bg-pink-100 border-pink-300 text-pink-800',
                description: 'è¤¥ç˜¡äºˆé˜²ãƒ»å£è…”æ¸…æ‹­ãƒ»ã‚¹ã‚­ãƒ³ã‚±ã‚¢'
            },
            { 
                key: 'illness', 
                title: 'ä½“èª¿ä¸è‰¯', 
                icon: 'ğŸ¤’', 
                color: 'bg-blue-100 border-blue-300 text-blue-800',
                description: 'ç™ºç†±ãƒ»é¢¨é‚ªç—‡çŠ¶ãƒ»æ„ŸæŸ“ç—‡å¯¾ç­–'
            },
            { 
                key: 'sleep', 
                title: 'ç¡çœ ', 
                icon: 'ğŸ˜´', 
                color: 'bg-purple-100 border-purple-300 text-purple-800',
                description: 'ç¡çœ ãƒªã‚ºãƒ ãƒ»æ—¥ä¸­è¦šé†’ãƒ»å¤œé–“ç¡çœ '
            },
            { 
                key: 'cough_choke', 
                title: 'å’³ãè¾¼ã¿ãƒ»ãƒ ã‚»', 
                icon: 'ğŸ˜·', 
                color: 'bg-orange-100 border-orange-300 text-orange-800',
                description: 'èª¤åš¥äºˆé˜²ãƒ»ç—°ã®å¸å¼•ãƒ»å‘¼å¸çŠ¶æ…‹'
            },
            { 
                key: 'tube_feeding', 
                title: 'æ³¨å…¥çµŒé', 
                icon: 'ğŸ¼', 
                color: 'bg-pink-100 border-pink-300 text-pink-800',
                description: 'çµŒç®¡æ „é¤Šãƒ»èƒƒç˜»ãƒ»è…¸ç˜»ãƒ»æ³¨å…¥é‡ç®¡ç†'
            },
            { 
                key: 'medication', 
                title: 'æœè–¬ã®è¨˜éŒ²', 
                icon: 'ğŸ’Š', 
                color: 'bg-purple-100 border-purple-300 text-purple-800',
                description: 'æŠ—ã¦ã‚“ã‹ã‚“è–¬ãƒ»æœè–¬ç¢ºèªãƒ»è–¬ç‰©èª¿æ•´'
            },
            { 
                key: 'vitals', 
                title: 'ãƒã‚¤ã‚¿ãƒ«ã‚µã‚¤ãƒ³', 
                icon: 'ğŸ©º', 
                color: 'bg-red-100 border-red-300 text-red-800',
                description: 'ä½“æ¸©ãƒ»è¡€åœ§ãƒ»é…¸ç´ é£½å’Œåº¦ãƒ»å¿ƒæ‹æ•°'
            },
            { 
                key: 'behavioral', 
                title: 'è¡Œå‹•è¦³å¯Ÿ', 
                icon: 'ğŸ‘ï¸', 
                color: 'bg-teal-100 border-teal-300 text-teal-800',
                description: 'å¸¸åŒè¡Œå‹•ãƒ»èˆˆå‘³é–¢å¿ƒãƒ»é›†ä¸­åŠ›ãƒ»ç¤¾ä¼šæ€§'
            },
            { 
                key: 'communication', 
                title: 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³', 
                icon: 'ğŸ’¬', 
                color: 'bg-blue-100 border-blue-300 text-blue-800',
                description: 'ç™ºèªãƒ»è¦–ç·šãƒ»èº«æŒ¯ã‚Šãƒ»æ„æ€è¡¨ç¤ºãƒ»è¦æ±‚'
            }
        ];

        // ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
        function App() {
            const [currentPage, setCurrentPage] = useState('daily-log');
            const [selectedEvent, setSelectedEvent] = useState(null);
            const [currentUser] = useState({ name: 'ç”°ä¸­å¤ªéƒ', id: 'user-01' });
            const [eventCounts, setEventCounts] = useState({});

            // ç¾åœ¨ã®æ—¥æ™‚ã‚’å–å¾—
            const getCurrentDateTime = () => {
                return new Date().toLocaleDateString('ja-JP', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    weekday: 'long'
                });
            };

            // ã‚¤ãƒ™ãƒ³ãƒˆè¨˜éŒ²
            const handleEventClick = (eventType) => {
                setSelectedEvent(eventType);
                // è¨˜éŒ²æ•°ã‚’æ›´æ–°
                setEventCounts(prev => ({
                    ...prev,
                    [eventType.key]: (prev[eventType.key] || 0) + 1
                }));
            };

            const handleBack = () => {
                setSelectedEvent(null);
            };

            const handleSave = () => {
                alert(`${selectedEvent.title}ã®è¨˜éŒ²ã‚’ä¿å­˜ã—ã¾ã—ãŸï¼`);
                setSelectedEvent(null);
            };

            // è¨˜éŒ²ãƒ•ã‚©ãƒ¼ãƒ ç”»é¢
            if (selectedEvent) {
                return (
                    <div className="flex min-h-screen">
                        {/* ã‚µã‚¤ãƒ‰ãƒŠãƒ“ */}
                        <nav className="w-64 bg-white border-r p-6 flex flex-col gap-4 overflow-y-auto">
                            <h2 className="text-xl font-bold mb-6">é­‚ã®å™¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³</h2>
                            {navItems.map(item => (
                                <button 
                                    key={item.path} 
                                    onClick={() => setCurrentPage(item.path.substr(1) || 'dashboard')}
                                    className="nav-link text-left"
                                >
                                    <span className="block">{item.label}</span>
                                    <span className="text-xs text-gray-500">{item.subtitle}</span>
                                </button>
                            ))}
                        </nav>

                        {/* ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ */}
                        <main className="flex-1 bg-gray-50 p-6">
                            <div className="max-w-2xl mx-auto">
                                <div className="mb-4">
                                    <button 
                                        onClick={handleBack}
                                        className="text-blue-600 hover:text-blue-800 flex items-center mb-4"
                                    >
                                        â† è¨˜éŒ²é …ç›®é¸æŠã«æˆ»ã‚‹
                                    </button>
                                </div>

                                <div className="bg-white rounded-xl shadow-lg p-8">
                                    <div className="text-center mb-6">
                                        <div className="text-8xl mb-4">{selectedEvent.icon}</div>
                                        <h2 className="text-3xl font-bold text-gray-800 mb-2">{selectedEvent.title}</h2>
                                        <p className="text-gray-600 text-lg">{selectedEvent.description}</p>
                                    </div>

                                    <div className="space-y-6">
                                        <div className="grid grid-cols-2 gap-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    åˆ©ç”¨è€…
                                                </label>
                                                <div className="p-3 bg-gray-50 rounded-lg">
                                                    {currentUser.name}
                                                </div>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    è¨˜éŒ²æ—¥æ™‚
                                                </label>
                                                <div className="p-3 bg-gray-50 rounded-lg">
                                                    {getCurrentDateTime()}
                                                </div>
                                            </div>
                                        </div>

                                        <div className="p-6 bg-blue-50 rounded-lg">
                                            <h3 className="font-semibold text-blue-800 mb-3">
                                                {selectedEvent.title}å°‚ç”¨è¨˜éŒ²ãƒ•ã‚©ãƒ¼ãƒ 
                                            </h3>
                                            <div className="space-y-4">
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                                        è¨˜éŒ²å†…å®¹
                                                    </label>
                                                    <textarea 
                                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                                        rows="4"
                                                        placeholder={`${selectedEvent.description}ã«é–¢ã™ã‚‹è©³ç´°ã‚’è¨˜éŒ²ã—ã¦ãã ã•ã„...`}
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                                        ç‰¹è¨˜äº‹é …
                                                    </label>
                                                    <textarea 
                                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                                        rows="2"
                                                        placeholder="ç‰¹è¨˜äº‹é …ã‚„æ°—ã¥ã„ãŸç‚¹ãŒã‚ã‚Œã°è¨˜éŒ²ã—ã¦ãã ã•ã„..."
                                                    />
                                                </div>
                                            </div>
                                        </div>

                                        <div className="flex gap-4">
                                            <button 
                                                onClick={handleSave}
                                                className="flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors font-semibold"
                                            >
                                                è¨˜éŒ²ã‚’ä¿å­˜
                                            </button>
                                            <button 
                                                onClick={handleBack}
                                                className="px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"
                                            >
                                                ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </main>
                    </div>
                );
            }

            // ãƒ¡ã‚¤ãƒ³ç”»é¢
            return (
                <div className="flex min-h-screen">
                    {/* ã‚µã‚¤ãƒ‰ãƒŠãƒ“ */}
                    <nav className="w-64 bg-white border-r p-6 flex flex-col gap-4 overflow-y-auto">
                        <h2 className="text-xl font-bold mb-6">é­‚ã®å™¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³</h2>
                        {navItems.map(item => (
                            <button 
                                key={item.path} 
                                onClick={() => setCurrentPage(item.path.substr(1) || 'dashboard')}
                                className={`nav-link text-left ${currentPage === (item.path.substr(1) || 'dashboard') ? 'bg-yellow-100 text-yellow-800' : ''}`}
                            >
                                <span className="block">{item.label}</span>
                                <span className="text-xs opacity-75">{item.subtitle}</span>
                            </button>
                        ))}
                    </nav>

                    {/* ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ */}
                    <main className="flex-1 bg-gray-50 overflow-y-auto">
                        <div className="max-w-md mx-auto p-4">
                            <div className="mb-6">
                                <h2 className="text-xl font-bold text-gray-800 mb-2">
                                    è¨˜éŒ²ã™ã‚‹é …ç›®ã‚’é¸æŠ
                                    <span className="text-xs text-gray-400 ml-2">(é‡ç—‡å¿ƒèº«éšœå®³å…è€…ç‰¹åŒ–ç‰ˆ)</span>
                                </h2>
                                <p className="text-gray-600 text-sm">{getCurrentDateTime()}</p>
                                <p className="text-xs text-gray-500 mt-1">
                                    æœ€çµ‚æ›´æ–°: 2025å¹´7æœˆ15æ—¥ - 15é …ç›®å®Œå…¨å®Ÿè£…æ¸ˆã¿
                                </p>
                                <p className="text-sm text-blue-600 mt-2">
                                    {currentUser.name}ã•ã‚“ã®è¨˜éŒ²
                                </p>
                            </div>

                            <div className="grid grid-cols-3 gap-2">
                                {eventTypes.map((eventType) => (
                                    <button
                                        key={eventType.key}
                                        onClick={() => handleEventClick(eventType)}
                                        className={`${eventType.color} rounded-lg p-3 text-center hover:opacity-80 transition-all duration-200 transform hover:scale-105 cursor-pointer relative`}
                                    >
                                        <div className="text-2xl mb-1">{eventType.icon}</div>
                                        <div className="text-xs font-medium leading-tight">{eventType.title}</div>
                                        {eventCounts[eventType.key] && (
                                            <div className="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center">
                                                {eventCounts[eventType.key]}
                                            </div>
                                        )}
                                    </button>
                                ))}
                            </div>

                            <div className="mt-6 p-4 bg-green-50 border border-green-200 rounded-lg">
                                <div className="flex items-center">
                                    <div className="text-green-600 mr-3">âœ…</div>
                                    <div>
                                        <div className="text-sm font-medium text-green-800">
                                            é‡ç—‡å¿ƒèº«éšœå®³å…è€…ç‰¹åŒ–ç‰ˆ - å®Œå…¨å®Ÿè£…å®Œäº†ï¼
                                        </div>
                                        <div className="text-xs text-green-700 mt-1">
                                            15é …ç›®ã™ã¹ã¦ãŒç¾å ´ã®ãƒ‹ãƒ¼ã‚ºã«åˆã‚ã›ã¦å®Ÿè£…æ¸ˆã¿
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
